# Remap prefix from 'C-b' to '`' (backtick). Double ` to type `
unbind C-b
set-option -g prefix `
bind-key ` send-prefix

# Enable mouse so clicking and scrolling mouse wheel works
set -g mouse on

# Set vi key navigation
set-window-option -g mode-keys vi

# Colorful! - tmux-sensible has this option set but somehow it gets loaded too late
set-option -s default-terminal "screen-256color"

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Renumber window
set-option -g renumber-windows on

# Not exiting copy-mode after dragging
unbind-key -T copy-mode-vi MouseDragEnd1Pane

# Add 'y' to yank without exiting copy-mode
# Note that 'Enter' will bind to 'copy-pipe-and-cancel' which will exit copy-mode
bind-key -T copy-mode-vi y send-keys -X copy-selection

# Change the number of line when scrolling using mouse wheel from 5 to 1 line
bind-key -T copy-mode-vi WheelUpPane   send-keys -X -N1 scroll-up
bind-key -T copy-mode-vi WheelDownPane send-keys -X -N1 scroll-down


# List of plugins
## Default
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

## Pane Control - https://github.com/tmux-plugins/tmux-pain-control
set -g @plugin 'tmux-plugins/tmux-pain-control'
set-option -g @pane_resize "1"

## Resurrect-Continuum
### https://github.com/tmux-plugins/tmux-resurrect
### https://github.com/tmux-plugins/tmux-continuum
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

### To tell continuum to restore environment when tmux server starts
set -g @continuum-restore 'on'

### To tell continuum to save environment every 15 minutes
set -g @continuum-save-interval '15'


# Load custom theme
run -b '~/.tmux_theme.sh'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'