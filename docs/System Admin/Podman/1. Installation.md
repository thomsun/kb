# Installation

## Homebrew

- Install `uidmap`
    ```
    sudo apt install uidmap
    ```

- Install `podman` and `podman-compose`
    ```
    brew install podman podman-compose
    ```

- Start service (not sure if it's needed)
    ```
    brew services restart podman
    ```

- Verify if it works
    ```
    podman run hello-world
    ```

## Native Ubuntu

### Install `podman`
```
sudo apt install -y podman
```

### Add default repository (optional)
```
mkdir -p ~.config/containers
cp /etc/containers/registries.conf ~/.config/containers/
```

Open the file and add the following at the bottom
```
unqualified-search-registries = ["docker.io"]
```

### Update aliases (optional)
Modify `/etc/containers/registries.conf.d/shortnames.conf`
```
[aliases]
    "ubuntu" = "docker.io/library/ubuntu"
```

### Add podman-completion to oh-my-zsh (optional)
This is a workaround until oh-my-zsh has an official support
```
mkdir -p $ZSH_CUSTOM/plugins/podman/
podman completion zsh -f $ZSH_CUSTOM/plugins/podman/_podman
```

## Podman Compose

### Prerequisite

#### python3

If python3 is not installed, run the following command

```
sudo apt install python3
```

#### pip3
Install pip3
```
sudo apt install python3-pip
```

Update pip packages
```
sudo -H pip3 install --upgrade pip
```

#### Install podman-compose
```
pip3 install podman-compose
```

Add `~/.local/bin/` if not in the $PATH yet
```
export PATH=~/.local/bin/:$PATH
```